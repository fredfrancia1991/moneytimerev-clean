(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{638:(e,t,s)=>{"use strict";s.d(t,{CI:()=>m,Jv:()=>u,hg:()=>d});let r="mt-users",n="mt-current-user",a=[{uid:"1",email:"admin@example.com",password:"admin",role:"admin"},{uid:"2",email:"user@example.com",password:"user",role:"client"}];function l(e){e?localStorage.setItem(n,JSON.stringify(e)):localStorage.removeItem(n)}function c(){let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}let i=[];function o(){let e=c();i.forEach(t=>t(e))}function d(e){return i.push(e),e(c()),()=>{let t=i.indexOf(e);t>=0&&i.splice(t,1)}}async function u(e,t){let s=(function(){try{let e=localStorage.getItem(r);if(!e)return localStorage.setItem(r,JSON.stringify(a)),a;return JSON.parse(e)}catch(e){return a}})().find(s=>s.email===e&&s.password===t);if(!s)throw Error("Identifiants incorrects");return l(s),o(),{user:s}}async function m(){l(null),o()}},818:(e,t,s)=>{"use strict";s.d(t,{VS:()=>l,r_:()=>a});let r="mt-diagnostics";function n(e){try{let t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch(e){return[]}}function a(e){let t=n(r),s={id:Date.now().toString(),createdAt:Date.now(),...e};return t.push(s),localStorage.setItem(r,JSON.stringify(t)),s}function l(e){let t=n(r);return e?t.filter(t=>t.email===e):t}},2193:(e,t,s)=>{Promise.resolve().then(s.bind(s,4879))},4363:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),n=s(6874),a=s.n(n),l=s(2115),c=s(638),i=s(9509);function o(){let[e,t]=(0,l.useState)(!1),s="prod"!==i.env.NEXT_PUBLIC_ENV;return(0,l.useEffect)(()=>(0,c.hg)(e=>t(!!e)),[]),(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-[#e2e8f0]",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-3 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xl font-extrabold text-[#26436E]",children:["MoneyTime ",(0,r.jsx)("span",{className:"italic text-[#187072]",children:"Rev’"})]}),s&&(0,r.jsxs)("nav",{className:"space-x-4 text-sm font-semibold text-[#187072]",children:[(0,r.jsx)(a(),{href:"/",className:"hover:underline",children:"Accueil"}),(0,r.jsx)(a(),{href:"/",className:"hover:underline",children:"Diagnostic"}),(0,r.jsx)(a(),{href:"/contact",className:"hover:underline",children:"Contact"}),e?(0,r.jsx)(a(),{href:"/client",className:"hover:underline",children:"Mon espace"}):(0,r.jsx)(a(),{href:"/login",className:"hover:underline",children:"Connexion"})]})]})})}},4879:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,dynamic:()=>d});var r=s(5155),n=s(2115),a=s(5695),l=s(638),c=s(818),i=s(4363),o=s(7145);let d="force-dynamic";function u(){let[e,t]=(0,n.useState)(!1),[s,d]=(0,n.useState)([]),u=(0,a.useRouter)();(0,n.useEffect)(()=>(0,l.hg)(e=>{var s;if(!e)return void u.replace("/login");let r="frederic.francia@icloud.com"===e.email;t(r),d(r?(0,c.VS)():(0,c.VS)(null!=(s=e.email)?s:void 0))}),[u]);let m=async()=>{await (0,l.CI)(),u.replace("/")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{}),(0,r.jsxs)("main",{className:"max-w-5xl mx-auto p-4 mt-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-[#26436E]",children:"Tableau de bord"}),(0,r.jsx)("button",{onClick:m,className:"text-sm text-red-600",children:"Se d\xe9connecter"})]}),e?(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)("div",{className:"border p-3 rounded",children:[(0,r.jsxs)("p",{className:"font-semibold",children:[e.prenom," ",e.nom]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]},e.id))}):(0,r.jsxs)("div",{className:"space-y-4",children:[s.map(e=>(0,r.jsx)("div",{className:"border p-3 rounded",children:(0,r.jsxs)("p",{className:"font-semibold",children:["Diagnostic du"," ",e.createdAt?new Date(1e3*e.createdAt).toLocaleDateString():"Date inconnue"]})},e.id)),(0,r.jsx)("a",{href:"https://calendly.com",className:"block text-center bg-[#187072] text-white py-2 rounded mt-4",children:"Prendre rendez-vous"})]})]}),(0,r.jsx)(o.default,{})]})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},7145:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(5155),n=s(6874),a=s.n(n),l=s(9509);function c(){let e="prod"!==l.env.NEXT_PUBLIC_ENV;return(0,r.jsx)("footer",{className:"bg-[#f8f9fa] text-[#4a4a4a] text-sm mt-12 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(a(),{href:"/cgu",className:"block hover:underline",children:"CGU"}),(0,r.jsx)(a(),{href:"/mentions-legales",className:"block hover:underline",children:"Mentions l\xe9gales"}),(0,r.jsx)(a(),{href:"/politique-de-confidentialite",className:"block hover:underline",children:"Politique de confidentialit\xe9"}),(0,r.jsx)(a(),{href:"/contact",className:"block hover:underline",children:"Contact"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsx)("p",{children:"\xc9diteur : MoneyTime Rev’"}),(0,r.jsx)("p",{children:"H\xe9bergeur : Google Cloud Platform"}),(0,r.jsx)("p",{children:"Les donn\xe9es collect\xe9es sont trait\xe9es dans le respect du RGPD."})]}),(0,r.jsx)("div",{className:"text-xs md:text-right flex items-end justify-center md:justify-end",children:"\xa9 2025 MoneyTime Rev’ – Tous droits r\xe9serv\xe9s"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(2193)),_N_E=e.O()}]);