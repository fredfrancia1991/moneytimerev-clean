(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{638:(e,t,s)=>{"use strict";s.d(t,{CI:()=>m,Jv:()=>u,hg:()=>d});let r="mt-users",n="mt-current-user",l=[{uid:"1",email:"admin@example.com",password:"admin",role:"admin"},{uid:"2",email:"user@example.com",password:"user",role:"client"}];function a(e){e?localStorage.setItem(n,JSON.stringify(e)):localStorage.removeItem(n)}function c(){let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}let i=[];function o(){let e=c();i.forEach(t=>t(e))}function d(e){return i.push(e),e(c()),()=>{let t=i.indexOf(e);t>=0&&i.splice(t,1)}}async function u(e,t){let s=(function(){try{let e=localStorage.getItem(r);if(!e)return localStorage.setItem(r,JSON.stringify(l)),l;return JSON.parse(e)}catch(e){return l}})().find(s=>s.email===e&&s.password===t);if(!s)throw Error("Identifiants incorrects");return a(s),o(),{user:s}}async function m(){a(null),o()}},4363:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(5155),n=s(6874),l=s.n(n),a=s(2115),c=s(638),i=s(9509);function o(){let[e,t]=(0,a.useState)(!1),s="prod"!==i.env.NEXT_PUBLIC_ENV;return(0,a.useEffect)(()=>(0,c.hg)(e=>t(!!e)),[]),(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-[#e2e8f0]",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-3 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-xl font-extrabold text-[#26436E]",children:["MoneyTime ",(0,r.jsx)("span",{className:"italic text-[#187072]",children:"Rev’"})]}),s&&(0,r.jsxs)("nav",{className:"space-x-4 text-sm font-semibold text-[#187072]",children:[(0,r.jsx)(l(),{href:"/",className:"hover:underline",children:"Accueil"}),(0,r.jsx)(l(),{href:"/",className:"hover:underline",children:"Diagnostic"}),(0,r.jsx)(l(),{href:"/contact",className:"hover:underline",children:"Contact"}),e?(0,r.jsx)(l(),{href:"/client",className:"hover:underline",children:"Mon espace"}):(0,r.jsx)(l(),{href:"/login",className:"hover:underline",children:"Connexion"})]})]})})}},5146:(e,t,s)=>{Promise.resolve().then(s.bind(s,9690))},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},7145:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(5155),n=s(6874),l=s.n(n),a=s(9509);function c(){let e="prod"!==a.env.NEXT_PUBLIC_ENV;return(0,r.jsx)("footer",{className:"bg-[#f8f9fa] text-[#4a4a4a] text-sm mt-12 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l(),{href:"/cgu",className:"block hover:underline",children:"CGU"}),(0,r.jsx)(l(),{href:"/mentions-legales",className:"block hover:underline",children:"Mentions l\xe9gales"}),(0,r.jsx)(l(),{href:"/politique-de-confidentialite",className:"block hover:underline",children:"Politique de confidentialit\xe9"}),(0,r.jsx)(l(),{href:"/contact",className:"block hover:underline",children:"Contact"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsx)("p",{children:"\xc9diteur : MoneyTime Rev’"}),(0,r.jsx)("p",{children:"H\xe9bergeur : Google Cloud Platform"}),(0,r.jsx)("p",{children:"Les donn\xe9es collect\xe9es sont trait\xe9es dans le respect du RGPD."})]}),(0,r.jsx)("div",{className:"text-xs md:text-right flex items-end justify-center md:justify-end",children:"\xa9 2025 MoneyTime Rev’ – Tous droits r\xe9serv\xe9s"})]})})}},9690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,dynamic:()=>o});var r=s(5155),n=s(2115),l=s(5695),a=s(638),c=s(4363),i=s(7145);let o="force-dynamic";function d(){let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),d=(0,l.useRouter)();(0,n.useEffect)(()=>(0,a.hg)(e=>{e&&d.replace("/client")}),[d]);let u=async t=>{t.preventDefault();try{await (0,a.Jv)(e,s),d.replace("/client")}catch(e){console.error("Erreur de connexion :",e.message),alert("Connexion impossible : "+e.message)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.default,{}),(0,r.jsxs)("main",{className:"max-w-sm mx-auto p-4 mt-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-[#26436E] mb-6",children:"Connexion"}),(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",className:"w-full border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"password",value:s,onChange:e=>o(e.target.value),placeholder:"Mot de passe",className:"w-full border p-2 rounded",required:!0}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#187072] text-white py-2 rounded",children:"Se connecter"})]})]}),(0,r.jsx)(i.default,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(5146)),_N_E=e.O()}]);